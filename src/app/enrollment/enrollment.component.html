<div class="signup-wrapper">
  <div class="text-title">Rejestracja</div>

  <div class="group">
    <div class="text-description">Dana osobowe</div>
    <form (ngSubmit)="onSubmit(signUpFormGroup)" [formGroup]="signUpFormGroup" novalidate>
      <div id="sign-up-fields">

        <mat-form-field appearance="outline">
          <mat-label>Imię</mat-label>
          <input formControlName="firstName" matInput maxlength="45" required type="text">
          <mat-error
            *ngIf="firstName.errors?.required && firstName.invalid && (firstName.dirty || firstName.touched)">
            Wprowadź imię
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Nazwisko</mat-label>
          <input formControlName="lastName" matInput maxlength="17" required type="text">
          <mat-error
            *ngIf="lastName.errors?.required && lastName.invalid && (lastName.dirty || lastName.touched)">
            Wprowadź nazwisko
          </mat-error>
        </mat-form-field>

        <mat-divider></mat-divider>
        <div class="text-description">Dana teleadresowe - opcjonalne</div>
        <div formGroupName="address" id="addressGroup">

          <mat-form-field appearance="outline">
            <mat-label>Ulica</mat-label>
            <input formControlName="street" matInput maxlength="45" type="text">
            <mat-error
              *ngIf="street.errors?.required && street.invalid && (street.dirty || street.touched)">
              Wprowadź adres
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Kod pocztowy</mat-label>
            <input formControlName="postcode" matInput maxlength="6"
                   type="tel">
            <mat-error
              *ngIf="postcode.invalid && (postcode.dirty || postcode.touched)">
              <div *ngIf="postcode.errors.pattern">Kod pocztowy jest niepoprawny</div>
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Miejscowość</mat-label>
            <input formControlName="city" matInput maxlength="45" type="text">
            <mat-error
              *ngIf="city.errors?.required && city.invalid && (city.dirty || city.touched)">
              Wprowadź miejscowość
            </mat-error>
          </mat-form-field>
        </div>

        <mat-form-field appearance="outline">
          <mat-label>Numer telefonu</mat-label>
          <input formControlName="phoneNumber" matInput maxlength="45" type="tel">
          <mat-icon matSuffix>phone</mat-icon>
          <mat-error
            *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)">
            <div *ngIf="phoneNumber.errors?.pattern">Nieprawidłowy format numeru telefonu</div>
          </mat-error>
        </mat-form-field>

        <mat-divider></mat-divider>

        <div class="text-description">Dana logowania</div>
        <mat-form-field appearance="outline">
          <mat-label>E-mail</mat-label>
          <input formControlName="email" matInput maxlength="45" type="email">
          <mat-icon matSuffix>email</mat-icon>
          <mat-error
            *ngIf="email.invalid && (email.dirty || email.touched)">
            <div *ngIf="email.errors?.required">Wprowadź adres email</div>
            <div *ngIf="email.errors?.email">Podany email jest nieprawidłowy</div>
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Hasło</mat-label>
          <input [type]="hidePassword ? 'password' : 'text'" formControlName="password" matInput maxlength="45"
                 placeholder="Hasło" required
                 type="password">
          <button (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'"
                  [attr.aria-pressed]="hidePassword" mat-icon-button
                  matSuffix
                  type="button">
            <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error
            *ngIf="email.invalid && (email.dirty || email.touched)">
            <div *ngIf="password.errors?.required">Wprowadź hasło</div>
            <div *ngIf="password.errors?.pattern">Podane hasło jest nieprawidłowe</div>
          </mat-error>
        </mat-form-field>

        <app-button [disabled]="signUpFormGroup.invalid || saving" [loading]="saving" [type]="'submit'"
                    class="right" message="Zarejestruj"></app-button>

      </div>
    </form>
  </div>
</div>
